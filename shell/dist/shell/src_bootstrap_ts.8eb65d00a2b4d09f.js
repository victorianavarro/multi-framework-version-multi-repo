(self.webpackChunkshell=self.webpackChunkshell||[]).push([["src_bootstrap_ts"],{7478:(w,j,a)=>{a.r(j);var N=a(6999),M=a(8410),E=a(8515),o=a(1992),m=a(1892),f=a(3434);let d=(()=>{class e{constructor(t){this.http=t}getMfeConfig(){return this.http.get("/assets/setup.json")}static{this.\u0275fac=function(r){return new(r||e)(o.\u0275\u0275inject(f.HttpClient))}}static{this.\u0275prov=o.\u0275\u0275defineInjectable({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();var C=a(7350);function h(e,n){if(1&e&&(o.\u0275\u0275elementStart(0,"li")(1,"a",2),o.\u0275\u0275text(2),o.\u0275\u0275elementEnd()()),2&e){const t=n.$implicit;o.\u0275\u0275advance(),o.\u0275\u0275property("routerLink",t.path),o.\u0275\u0275advance(),o.\u0275\u0275textInterpolate(t.label)}}let y=(()=>{class e{constructor(t,r,i){this.service=t,this.ngZone=r,this.configService=i,this.menuItems=[],this.title="shell",this.ngVersion=a(8330).El.v2,this.service.login("Max",null)}ngOnInit(){this.configService.getMfeConfig().pipe((0,E.map)(t=>t.map(r=>({label:r.path.replace(/\/$/,""),path:r.navigatePath||r.path})))).subscribe(t=>{this.menuItems=t})}static{this.\u0275fac=function(r){return new(r||e)(o.\u0275\u0275directiveInject(m.AuthLibService),o.\u0275\u0275directiveInject(o.NgZone),o.\u0275\u0275directiveInject(d))}}static{this.\u0275cmp=o.\u0275\u0275defineComponent({type:e,selectors:[["shell-root"]],decls:5,vars:2,consts:[[4,"ngFor","ngForOf"],[1,"version"],[3,"routerLink"]],template:function(r,i){1&r&&(o.\u0275\u0275elementStart(0,"ul"),o.\u0275\u0275template(1,h,3,2,"li",0),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementStart(2,"p",1),o.\u0275\u0275text(3),o.\u0275\u0275elementEnd(),o.\u0275\u0275element(4,"router-outlet")),2&r&&(o.\u0275\u0275advance(),o.\u0275\u0275property("ngForOf",i.menuItems),o.\u0275\u0275advance(2),o.\u0275\u0275textInterpolate1("Angular Version: ",i.ngVersion,""))},dependencies:[C.NgForOf,M.RouterOutlet,M.RouterLink],encapsulation:2})}}return e})();var u=a(984);let R=(()=>{class e{constructor(t,r){this.authService=t,this.cd=r,this.userName="",this.props={message:"Hello from Shell"},this.events={clicked:i=>{console.debug("clicked!",i)}},this.options={remoteEntry:"https://nice-grass-018f7d910.azurestaticapps.net/remoteEntry.js",remoteName:"angular1",exposedModule:"./web-components",elementName:"angular1-element"}}ngOnInit(){}login(){this.authService.login(this.userName,null)}static{this.\u0275fac=function(r){return new(r||e)(o.\u0275\u0275directiveInject(m.AuthLibService),o.\u0275\u0275directiveInject(o.ChangeDetectorRef))}}static{this.\u0275cmp=o.\u0275\u0275defineComponent({type:e,selectors:[["app-home"]],decls:5,vars:1,consts:[["placeholder","User Name",3,"ngModelChange","ngModel"],[3,"click"]],template:function(r,i){1&r&&(o.\u0275\u0275elementStart(0,"h1"),o.\u0275\u0275text(1,"Welcome!"),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementStart(2,"input",0),o.\u0275\u0275twoWayListener("ngModelChange",function(c){return o.\u0275\u0275twoWayBindingSet(i.userName,c)||(i.userName=c),c}),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementStart(3,"button",1),o.\u0275\u0275listener("click",function(){return i.login()}),o.\u0275\u0275text(4,"Login!"),o.\u0275\u0275elementEnd()),2&r&&(o.\u0275\u0275advance(2),o.\u0275\u0275twoWayProperty("ngModel",i.userName))},dependencies:[u.DefaultValueAccessor,u.NgControlStatus,u.NgModel],encapsulation:2})}}return e})(),te=(()=>{class e{constructor(){}ngOnInit(){}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275cmp=o.\u0275\u0275defineComponent({type:e,selectors:[["app-not-found"]],decls:7,vars:0,template:function(r,i){1&r&&(o.\u0275\u0275elementStart(0,"h1"),o.\u0275\u0275text(1,"Not implemented yet!"),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementStart(2,"p"),o.\u0275\u0275text(3,"Implementing this will be "),o.\u0275\u0275elementStart(4,"b"),o.\u0275\u0275text(5,"your task"),o.\u0275\u0275elementEnd(),o.\u0275\u0275text(6," during this exercise."),o.\u0275\u0275elementEnd())},encapsulation:2})}}return e})();var g=a(467),l=a(4935),ne=a(2697),D=a(7973);let v={};const S={},H={};let V=!1;function b(){return(b=(0,g.A)(function*(e,n){return(yield S[e].get(n))()})).apply(this,arguments)}function B(e,n){return I.apply(this,arguments)}function I(){return(I=(0,g.A)(function*(e,n){return H[n]||(V||(yield a.I("default"),V=!0),yield e.init(a.S.default),H[n]=!0),e})).apply(this,arguments)}function A(){return A=(0,g.A)(function*(e,n){if("string"==typeof e)return yield Q(e,n);if("script"===e.type){const t=e;return yield Q(t.remoteEntry,t.remoteName)}"module"===e.type&&(yield function re(e){return T.apply(this,arguments)}(e.remoteEntry))}),A.apply(this,arguments)}function T(){return(T=(0,g.A)(function*(e){return S[e]?Promise.resolve():yield import(e).then(n=>{B(n,e),S[e]=n})})).apply(this,arguments)}function Q(e,n){return L.apply(this,arguments)}function L(){return(L=(0,g.A)(function*(e,n){return new Promise((t,r)=>{if(S[n])return void t();const i=document.createElement("script");i.src=e,i.onerror=r,i.onload=()=>{const s=window[n];B(s,n),S[n]=s,t()},document.body.appendChild(i)})})).apply(this,arguments)}function $(e,n){return P.apply(this,arguments)}function P(){return P=(0,g.A)(function*(e,n){let t,r,i,s;if(s="string"==typeof e?{type:"manifest",remoteName:e,exposedModule:n}:e,!s.type){const c=Object.keys(v).length>0;s.type=c?"manifest":"script"}if("manifest"===s.type){const c=v[s.remoteName];if(!c)throw new Error("Manifest does not contain "+s.remoteName);s={type:c.type,exposedModule:s.exposedModule,remoteEntry:c.remoteEntry,remoteName:"script"===c.type?s.remoteName:void 0},i=c.remoteEntry}else i=s.remoteEntry;return"script"===s.type?(t={type:"script",remoteEntry:s.remoteEntry,remoteName:s.remoteName},r=s.remoteName):"module"===s.type&&(t={type:"module",remoteEntry:s.remoteEntry},r=s.remoteEntry),i&&(yield function F(e,n){return A.apply(this,arguments)}(t)),yield function oe(e,n){return b.apply(this,arguments)}(r,s.exposedModule)}),P.apply(this,arguments)}var ae=a(172);const le=["vc"];let ce=(()=>{class e{constructor(t){this.route=t}ngOnChanges(){this.element&&this.populateProps()}populateProps(){for(const t in this.props)this.element[t]=this.props[t]}setupEvents(){for(const t in this.events)this.element.addEventListener(t,this.events[t])}ngAfterContentInit(){var t=this;return(0,g.A)(function*(){const r=t.options??t.route.snapshot.data;try{yield $(r),t.element=document.createElement(r.elementName),t.populateProps(),t.setupEvents(),t.vc.nativeElement.appendChild(t.element)}catch(i){console.error(i)}})()}static{this.\u0275fac=function(r){return new(r||e)(l.\u0275\u0275directiveInject(D.ActivatedRoute))}}static{this.\u0275cmp=l.\u0275\u0275defineComponent({type:e,selectors:[["mft-wc-wrapper"]],viewQuery:function(r,i){if(1&r&&l.\u0275\u0275viewQuery(le,7,l.ElementRef),2&r){let s;l.\u0275\u0275queryRefresh(s=l.\u0275\u0275loadQuery())&&(i.vc=s.first)}},inputs:{options:"options",props:"props",events:"events"},features:[l.\u0275\u0275NgOnChangesFeature],decls:2,vars:0,consts:[["vc",""]],template:function(r,i){1&r&&l.\u0275\u0275element(0,"div",null,0)},encapsulation:2})}}return e})(),ue=(()=>{class e{static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275mod=l.\u0275\u0275defineNgModule({type:e})}static{this.\u0275inj=l.\u0275\u0275defineInjector({imports:[ne.CommonModule]})}}return e})();const O="@angular-architects/module-federation-tools";function K(){const e=window;return e[O]=e[O]||{},e[O]}function X(e){const n=K();return e?e(n):n}function Y(e){return Object.assign(K(),e)}let U=!0,k=!0,x=!0;function q(){const e=window;return e.platform=e.platform||{},e}function ee(){return X(e=>e.platformCache)||Y({platformCache:new Map}).platformCache}function ge(e){if(!k)return e.platformFactory();const n=e.version(),t=n===l.VERSION.full?l.VERSION:n,r="string"==typeof t?t:t.full;let i=ee().get(t)||x&&function me(e){const n=q().platform[e];return n instanceof l.PlatformRef?n:null}(r);return i||(i=e.platformFactory(),function ye(e,n){k&&(x&&function fe(e,n){q().platform[e]=n}(e.full,n),ee().set(e,n))}(l.VERSION,i),e.production&&(0,l.enableProdMode)()),i}!function Ee(e,n){U=!1!==n.ngZoneSharing,k=!1!==n.platformSharing,x=!1!==n.activeLegacyMode,n.platformFactory=n.platformFactory||(()=>(0,ae.platformBrowser)()),n.version=n.version||(()=>l.VERSION),U&&!n.compilerOptions?.ngZone&&(n.compilerOptions=n.compilerOptions||{},n.compilerOptions.ngZone=function ve(){return X(e=>e.ngZone)||function de(){return window.ngZone}()}()),ge(n).bootstrapModule(e,n.compilerOptions).then(t=>("shell"===n.appType?function Ce(e){const n=e.get(l.NgZone,null);n?function Me(e){U&&(x&&function he(e){window.ngZone=e}(e),Y({ngZone:e}))}(n):console.warn("No NgZone to share found")}(t.injector):"microfrontend"===n.appType&&function Se(e){const n=e.get(D.Router),t=location.href.includes("#");n?function pe(e,n=!1){let t;n?(t=`${location.hash.substring(1)}${location.search}`,e.navigateByUrl(t),window.addEventListener("hashchange",()=>{e.navigateByUrl(t)})):(t=`${location.pathname.substring(1)}${location.search}`,e.navigateByUrl(t),window.addEventListener("popstate",()=>{e.navigateByUrl(t)}))}(n,t):console.warn("No router to connect found")}(t.injector),t))}((()=>{class e{constructor(t,r){this.configService=t,this.router=r,this.configService.getMfeConfig().pipe((0,E.take)(1)).subscribe({next:i=>{const s=[];i.forEach(p=>{"remote"===p.componentType?(console.log("Loading "+p.path),s.push({path:p.path,loadChildren:()=>$({type:"module",remoteEntry:p.remoteEntry,exposedModule:p.exposedModule}).then(Ne=>Ne[p.moduleName])})):"webComponent"===p.componentType&&s.push({path:p.path,component:ce,data:p.webComponentData})}),s.push({path:"**",component:te}),this.router.resetConfig([{path:"",component:R,pathMatch:"full"},...s])},error:i=>{console.error("Error loading MFE configuration:",i)},complete:()=>{console.log("Configuration loading complete")}})}static{this.\u0275fac=function(r){return new(r||e)(o.\u0275\u0275inject(d),o.\u0275\u0275inject(M.Router))}}static{this.\u0275mod=o.\u0275\u0275defineNgModule({type:e,bootstrap:[y]})}static{this.\u0275inj=o.\u0275\u0275defineInjector({imports:[N.BrowserModule,m.AuthLibModule,f.HttpClientModule,u.FormsModule,M.RouterModule.forRoot([]),ue]})}}return e})(),{production:!0,appType:"shell"})},467:(w,j,a)=>{function N(E,o,m,f,d,C,h){try{var y=E[C](h),u=y.value}catch(R){return void m(R)}y.done?o(u):Promise.resolve(u).then(f,d)}function M(E){return function(){var o=this,m=arguments;return new Promise(function(f,d){var C=E.apply(o,m);function h(u){N(C,f,d,h,y,"next",u)}function y(u){N(C,f,d,h,y,"throw",u)}h(void 0)})}}a.d(j,{A:()=>M})},8330:w=>{w.exports=JSON.parse('{"El":{"v2":"17.3.1"}}')}}]);